<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  >
  <meta name="referrer" content="no-referrer">
  <title>Rooh | Midnight Library - All FREE</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap"
    rel="stylesheet"
  >

  <style>
    :root {
      --app-bg: #000000;
      --midnight-blue: #1e1b4b;
      --deep-purple: #3b1f6c;
      --glow-purple: #8b5cf6;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #000;
      color: #e5e5e5;
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
      line-height: 1.6;
    }

    .font-serif {
      font-family: 'Playfair Display', serif;
    }

    /* HERO SECTION */
    .hero {
      min-height: 100vh;
      background:
        radial-gradient(ellipse at top, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
        radial-gradient(ellipse at bottom left, rgba(59, 31, 108, 0.2) 0%, transparent 50%),
        #000;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><filter id="grain"><feTurbulence baseFrequency="0.6" numOctaves="2" /><feBlend mode="multiply" in="SourceGraphic" /></filter></defs><rect width="100" height="100" fill="%2303030a" filter="url(%23grain)" opacity="0.3"/></svg>');
      pointer-events: none;
    }

    .hero-title {
      font-size: clamp(3rem, 8vw, 8rem);
      font-weight: 700;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, #fff 0%, #e5e7eb 50%, var(--glow-purple) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
      position: relative;
      z-index: 2;
    }

    .hero-subtitle {
      font-size: clamp(1rem, 3vw, 1.25rem);
      color: #9ca3af;
      font-weight: 300;
      max-width: 600px;
      margin-bottom: 3rem;
      line-height: 1.4;
    }

    .cta-glow {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 31, 108, 0.3) 100%);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(139, 92, 246, 0.4);
      box-shadow: 0 8px 32px rgba(139, 92, 246, 0.15);
    }

    .cta-glow:hover {
      box-shadow: 0 12px 40px rgba(139, 92, 246, 0.3);
      transform: translateY(-2px);
    }

    /* HIDE SCROLLBARS */
    .hide-scroll::-webkit-scrollbar { display: none; }
    .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }

    /* NAVIGATION */
    .nav-fixed {
      backdrop-filter: blur(20px);
      background: rgba(0,0,0,0.9);
      border: 1px solid rgba(255,255,255,0.05);
    }

    /* MASONRY PINS */
    .masonry-grid {
      column-count: 2;
      column-gap: 1rem;
      padding: 1rem;
    }
    @media (min-width: 768px) { .masonry-grid { column-count: 3; column-gap: 1.5rem; } }
    @media (min-width: 1024px) { .masonry-grid { column-count: 4; column-gap: 2rem; } }

    .pin-card {
      break-inside: avoid;
      margin-bottom: 1rem;
      border-radius: 1rem;
      overflow: hidden;
      background: linear-gradient(135deg, #111 0%, #1a1a2e 100%);
      transform: translateZ(0);
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      cursor: pointer;
      position: relative;
    }

    .pin-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 25px 50px rgba(0,0,0,0.8);
      z-index: 10;
    }

    .pin-image {
      width: 100%;
      height: auto;
      object-fit: cover;
      filter: contrast(1.1) saturate(1.2);
      transition: filter 0.4s ease;
    }

    .pin-card:hover .pin-image {
      filter: contrast(1.2) saturate(1.3) brightness(1.05);
    }

    /* REELS SCROLL SNAP */
    .reels-wrapper {
      height: 100vh;
      width: 100%;
      overflow-y: scroll;
      scroll-snap-type: y mandatory;
      scroll-behavior: smooth;
      background: #000;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 40;
    }

    .reel-item {
      height: 100vh;
      width: 100%;
      scroll-snap-align: start;
      scroll-snap-stop: always;
      position: relative;
      background: #050505;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* BOOKSHELF */
    .shelf {
      border-bottom: 12px solid #222;
      box-shadow: 0 15px 30px -10px rgba(0,0,0,0.9);
      position: relative;
      background: linear-gradient(90deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
    }

    .book-3d {
      transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      transform-origin: bottom center;
      position: relative;
    }

    .book-3d:hover {
      transform: scale(1.08) translateY(-12px);
      z-index: 10;
    }

    /* MODALS */
    .modal-overlay {
      backdrop-filter: blur(20px);
      background: rgba(0,0,0,0.95);
    }

    /* Smooth scroll */
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body class="bg-black text-white">
  <!-- HERO SECTION -->
  <section class="hero">
    <div class="text-center relative z-10 max-w-4xl mx-auto px-4">
      <h1 class="hero-title font-serif leading-none mb-6">
        ‡§ï‡•Å‡§õ ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç ‡§™‡§¢‡§º‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§ú‡§æ‡§§‡•Ä‚Ä¶ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§
      </h1>
      <p class="hero-subtitle">
        Stories for broken hearts, ambitious minds, and late-night readers.
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mt-12 max-w-md mx-auto">
        <a
          href="#library"
          onclick="switchView('library')"
          class="px-8 py-4 bg-gradient-to-r from-purple-600/90 to-indigo-600/90 text-white font-bold text-lg rounded-full cta-glow transition-all duration-300 hover:from-purple-500 hover:to-indigo-500 shadow-2xl"
        >
          ‡§∏‡§≠‡•Ä ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç FREE ‡§™‡§¢‡§º‡•á‡§Ç
        </a>
        <a
          href="#gallery"
          onclick="switchView('gallery')"
          class="px-8 py-4 border-2 border-purple-500/50 bg-black/50 backdrop-blur-sm text-purple-300 font-bold text-lg rounded-full cta-glow hover:border-purple-400 hover:text-purple-400 transition-all duration-300"
        >
          Visuals ‡§¶‡•á‡§ñ‡•á‡§Ç (340+)
        </a>
      </div>

      <!-- üî• LOGIN BUTTON (STEP 1) -->
      <button
        id="loginBtn"
        class="mt-6 px-8 py-3 border border-purple-500/60 text-purple-300 font-bold rounded-full hover:bg-purple-600 hover:text-white transition-all"
      >
        Login with Google
      </button>

      <p class="text-xs text-purple-400/70 mt-8 font-medium tracking-wider">
        ‡§∏‡§æ‡§∞‡•Ä ‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç ‡§Ö‡§≠‡•Ä FREE ‡§π‡•à‡§Ç‡•§ Famous ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ premium ‡§π‡•ã ‡§ú‡§æ‡§è‡§Ç‡§ó‡•Ä‡•§
      </p>
    </div>
  </section>

  <!-- TAB NAVIGATION -->
  <nav
    class="fixed bottom-4 left-1/2 transform -translate-x-1/2 md:top-6 md:left-auto md:right-6 w-80 md:w-auto z-50 nav-fixed rounded-2xl p-2 md:p-3 border border-white/10 shadow-2xl"
  >
    <div class="flex justify-around md:justify-end md:gap-4 items-center">
      <button
        onclick="switchView('library')"
        id="btn-library"
        class="nav-btn flex flex-col items-center gap-1 p-3 rounded-xl text-white bg-purple-500/20 backdrop-blur-sm border border-purple-500/30 hover:bg-purple-500/40 transition-all"
      >
        <i data-lucide="book-open" class="w-6 h-6"></i>
        <span class="text-xs font-bold tracking-wider">‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç</span>
      </button>
      <button
        onclick="switchView('reels')"
        id="btn-reels"
        class="nav-btn flex flex-col items-center gap-1 p-3 rounded-xl text-gray-400 hover:text-white hover:bg-gray-800/50 transition-all"
      >
        <i data-lucide="video" class="w-6 h-6"></i>
        <span class="text-xs font-bold tracking-wider">Reels</span>
      </button>
      <button
        onclick="switchView('gallery')"
        id="btn-gallery"
        class="nav-btn flex flex-col items-center gap-1 p-3 rounded-xl text-gray-400 hover:text-white hover:bg-gray-800/50 transition-all"
      >
        <i data-lucide="image" class="w-6 h-6"></i>
        <span class="text-xs font-bold tracking-wider">Visuals</span>
      </button>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="min-h-screen relative pt-24 md:pt-32">
    <!-- LIBRARY SECTION -->
    <section
      id="view-library"
      class="view-section min-h-screen bg-gradient-to-b from-black via-neutral-950 to-black pb-24"
    >
      <div class="container mx-auto px-4 max-w-5xl py-20">
        <header class="text-center mb-24">
          <h2
            class="font-serif text-5xl md:text-7xl font-bold bg-gradient-to-r from-white via-purple-200 to-purple-400 bg-clip-text text-transparent mb-6 leading-none"
          >
            FREE BOOKS
          </h2>
          <p class="text-xl text-purple-400/80 font-light tracking-wider">
            ‡§á‡§® ‡§ï‡§π‡§æ‡§®‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡•ã
          </p>
        </header>

        <div
          class="shelf mx-auto max-w-4xl px-8 py-12 rounded-3xl relative overflow-hidden mb-24"
          style="height: 400px;"
        >
          <div
            id="bookshelf-container"
            class="flex items-end justify-center gap-6 w-full h-full"
          ></div>
        </div>
      </div>
    </section>

    <!-- REELS SECTION -->
    <section id="view-reels" class="view-section hidden">
      <div id="reels-wrapper" class="reels-wrapper hide-scroll">
        <div id="reels-container"></div>
        <div
          id="reels-loader"
          class="h-24 flex items-center justify-center text-gray-400 absolute bottom-8 left-1/2 transform -translate-x-1/2"
        >
          <span class="text-sm tracking-widest">‡§î‡§∞ Reels ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</span>
        </div>
      </div>
    </section>

    <!-- VISUALS GALLERY -->
    <section
      id="view-gallery"
      class="view-section hidden min-h-screen bg-gradient-to-br from-black via-neutral-900 to-neutral-950 pb-24 pt-20"
    >
      <div class="container mx-auto px-4 max-w-7xl">
        <header
          class="text-center mb-12 sticky top-0 bg-black/80 backdrop-blur-xl py-8 z-10 rounded-3xl -mt-20"
        >
          <h2
            class="font-serif text-4xl md:text-6xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4"
          >
            Tasveerein
          </h2>
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <span class="text-2xl font-bold text-white" id="pin-count">340+ Images</span>
            <button
              onclick="loadAllPins()"
              class="px-6 py-2 bg-purple-600/80 hover:bg-purple-500/90 text-white rounded-full text-sm font-bold transition-all"
            >
              ‡§∏‡§≠‡•Ä Load ‡§ï‡§∞‡•á‡§Ç
            </button>
          </div>
        </header>

        <div id="pinterest-grid" class="masonry-grid"></div>
      </div>
    </section>
  </main>

  <!-- BOOK MODAL -->
  <div id="bookModal" class="hidden fixed inset-0 z-[100] modal-overlay flex flex-col">
    <div
      class="flex justify-between items-center p-6 border-b border-white/10 bg-black/90 backdrop-blur-xl"
    >
      <span class="text-lg font-serif font-bold text-white tracking-wide">
        ‡§™‡§¢‡§º‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø
      </span>
      <button
        onclick="closeBookModal()"
        class="p-3 rounded-2xl bg-white/10 hover:bg-white/20 transition-all"
      >
        <i data-lucide="x" class="w-6 h-6"></i>
      </button>
    </div>
    <iframe id="bookIframe" class="flex-1 w-full border-none" allowfullscreen></iframe>
  </div>

  <!-- PIN LIGHTBOX -->
  <div
    id="pinLightbox"
    class="hidden fixed inset-0 z-[200] modal-overlay flex items-center justify-center p-4"
  >
    <button
      onclick="closePinLightbox()"
      class="fixed top-8 right-8 bg-white/20 hover:bg-white/30 p-4 rounded-2xl backdrop-blur-xl border border-white/20 transition-all z-10"
    >
      <i data-lucide="x" class="w-7 h-7"></i>
    </button>
    <div
      id="pinLightboxContent"
      class="w-full h-[90vh] max-w-6xl mx-auto rounded-3xl overflow-hidden shadow-2xl"
    ></div>
  </div>

  <script>
    // 340+ IMAGE IDs (tumne diye hue IDs ka hi pattern ‚Äì yahan se aage bhi same tarah add kar sakta hai)
    const imageIds = [
      '1X6S9fBYtqzKYh8DEHOXCU0fLpfnvVabd','1WXx6ZiDbLQR1bM0ECI8P-cjPLeN4B4HH','1TfA85aQqmhs-uh0xrFv6uRaEil-NIMwn',
      '1V8LCzuT8cxATxuNP8wCHL0Z4P3N9Il2_','1IY7PQQWaxpgInjONoNWZJPSu_B1LMjyx','1UjRR6OyD0zneDWIuZYR7ayeiYcQ3qZgK',
      '1TvxZiIB3Bjgla2vs0ihVZG3dg5JR4Srn','1WWSwn8JccByFeUc1Gu6aOTFozA4tNSBD','1Vk56gmWngTvsv_T46EP-4J-pwRtl4ljj',
      '1vfSW_mEnrYkx67eSfQlHzAjMtJlNfydp','1etp-Va8QXbGnvVx6yGkZhjH4X_bi27qm','1Lw27AVZptO3iT8Y3ilWD_eWowE3LY1n-',
      '1CSBrPErBt4h6ly7d7RquLMYFFju8LLV_','1d_fY3Hj0x3Y4arMB8fiN9-jhoTfnRL2o','1deVluxXt94qvWVHLimsBJZjNCXfIMFWi'
      // ...baaki IDs tumne jitne diye hain, unko yahan isi array me add karte jaana
    ];

    const mediaString =
      '1510BDgVaRb-80RU3nlk-opXMT1wC_ZCb,1c1MAwr_mz3Yvn1tPvxm_IOeHTyv_ZODk,1rfNcZgjtyY4UsdZGw7yQJQPwFT6Z0qWa,1Zvb8qVDKmbbrmGBOR6e7ERsEZjl7sPid,1XVDO1MJXF0a6ODcsCNNZCETpd1KPlNa' +
      ',' +
      imageIds.join(',');

    const allIds = mediaString.split(',').map((s) => s.trim()).filter((s) => s.length > 0);
    const reelIds = allIds.slice(0, 2000);
    const pinIds = imageIds;

    let reelsLoadedCount = 0;
    const REELS_BATCH_SIZE = 3;
    let pinsLoadedCount = 0;
    const PINS_BATCH_SIZE = 24;

    window.onload = () => {
      renderBooks();
      loadMoreReels();
      document.getElementById('pin-count').innerText = `${pinIds.length}+ Tasveerein`;
      lucide.createIcons();
      switchView('library');
    };

    function switchView(view) {
      document.querySelectorAll('.view-section').forEach((el) => el.classList.add('hidden'));
      document.querySelectorAll('.nav-btn').forEach((btn) => {
        btn.classList.remove('bg-purple-500/30', 'border-purple-500/50', 'text-white');
        btn.classList.add('hover:bg-gray-800/50', 'text-gray-400');
      });

      document.getElementById(`view-${view}`).classList.remove('hidden');
      document.getElementById(`btn-${view}`).classList.add(
        'bg-purple-500/30',
        'border-purple-500/50',
        'text-white'
      );
      document.getElementById(`btn-${view}`).classList.remove('text-gray-400');

      if (view === 'reels') {
        document.body.style.overflow = 'hidden';
      } else {
        document.body.style.overflow = 'auto';
      }
    }

    const books = [
      {
        id: 1,
        title: '‡§ñ‡§æ‡§Æ‡•ã‡§∂‡•Ä ‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º',
        link: 'https://drive.google.com/file/d/1HlXQ_j4psFkwMPKE8z-KiFOGsX35lqU1/preview',
        color: 'from-slate-800 to-black',
        h: 'h-56 md:h-64',
        w: 'w-36 md:w-44'
      },
      {
        id: 2,
        title: '‡§ü‡•Ç‡§ü‡•á ‡§§‡§æ‡§∞‡•á',
        link: 'https://drive.google.com/file/d/1nfpezHinp8dLec13IF_pyKSH9eG6HAVT/preview',
        color: 'from-indigo-900 to-black',
        h: 'h-52 md:h-60',
        w: 'w-32 md:w-40'
      },
      {
        id: 3,
        title: '‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ï‡§æ ‡§∂‡•ã‡§∞',
        link: 'https://drive.google.com/file/d/1r5ry7jFL8uxMiV869OjMoSD4x7LLEF6l/preview',
        color: 'from-zinc-800 to-black',
        h: 'h-60 md:h-72',
        w: 'w-40 md:w-48'
      }
    ];

    function renderBooks() {
      const container = document.getElementById('bookshelf-container');
      container.innerHTML = books
        .map(
          (book) => `
        <div onclick="openBookModal('${book.link}')" class="book-3d relative cursor-pointer group ${book.h} ${book.w} rounded-2xl shadow-2xl transition-all duration-500 hover:shadow-purple-500/25">
          <div class="absolute left-0 top-0 bottom-0 w-4 bg-gradient-to-b from-white/20 to-transparent z-20 border-r border-white/20"></div>
          <div class="w-full h-full bg-gradient-to-br ${book.color} flex flex-col p-6 justify-between relative overflow-hidden border border-white/10 rounded-2xl">
            <div class="relative z-10">
              <h3 class="font-serif text-white text-sm md:text-base font-bold leading-tight tracking-wide mb-2">
                ${book.title}
              </h3>
              <p class="text-xs text-purple-300/80 font-light">FREE ‡§™‡§¢‡§º‡•á‡§Ç</p>
            </div>
            <div class="relative z-10 text-center">
              <i data-lucide="book-open" class="w-6 h-6 text-purple-400 mx-auto drop-shadow-lg"></i>
            </div>
          </div>
        </div>
      `
        )
        .join('');
      lucide.createIcons();
    }

    function loadMoreReels() {
      if (reelsLoadedCount >= reelIds.length) {
        const loader = document.getElementById('reels-loader');
        if (loader) loader.style.display = 'none';
        return;
      }

      const batch = reelIds.slice(reelsLoadedCount, reelsLoadedCount + REELS_BATCH_SIZE);
      const container = document.getElementById('reels-container');

      batch.forEach((id, index) => {
        const el = document.createElement('div');
        el.className = 'reel-item';
        el.innerHTML = `
          <iframe
            src="https://drive.google.com/file/d/${id}/preview?embedded=true"
            class="w-full h-full border-none"
            allow="autoplay; fullscreen"
            loading="lazy"
            title="Reel ${reelsLoadedCount + index + 1}"
          ></iframe>
        `;
        container.appendChild(el);
      });

      reelsLoadedCount += batch.length;

      const reelsWrapper = document.getElementById('reels-wrapper');
      reelsWrapper.addEventListener(
        'scroll',
        () => {
          if (
            reelsWrapper.scrollTop + reelsWrapper.clientHeight >=
            reelsWrapper.scrollHeight - 1000
          ) {
            loadMoreReels();
          }
        },
        { once: true }
      );
    }

    function loadMorePins() {
      if (pinsLoadedCount >= pinIds.length) return;

      const batch = pinIds.slice(pinsLoadedCount, pinsLoadedCount + PINS_BATCH_SIZE);
      const container = document.getElementById('pinterest-grid');

      batch.forEach((id) => {
        const el = document.createElement('div');
        el.className = 'pin-card group relative mb-4';
        el.onclick = () => openPinLightbox(id);
        el.innerHTML = `
          <div class="relative w-full h-64 overflow-hidden rounded-2xl bg-gradient-to-br from-gray-900 to-black">
            <img
              src="https://drive.google.com/thumbnail?id=${id}&sz=w800"
              class="pin-image w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
              loading="lazy"
              alt="Visual"
            >
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-6">
              <div class="w-full text-center">
                <i data-lucide="image" class="w-12 h-12 text-white/80 mx-auto mb-2"></i>
                <p class="text-white/90 font-medium text-sm">View Full</p>
              </div>
            </div>
          </div>
        `;
        container.appendChild(el);
      });

      pinsLoadedCount += batch.length;
      if (window.lucide) lucide.createIcons();
    }

    function loadAllPins() {
      pinsLoadedCount = 0;
      document.getElementById('pinterest-grid').innerHTML = '';
      for (let i = 0; i < 10; i++) loadMorePins();
    }

    function openBookModal(link) {
      const modal = document.getElementById('bookModal');
      const iframe = document.getElementById('bookIframe');
      iframe.src = link + (link.includes('?') ? '&' : '?') + 'embedded=true&rm=minimal';
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeBookModal() {
      document.getElementById('bookModal').classList.add('hidden');
      document.getElementById('bookIframe').src = '';
      document.body.style.overflow = 'auto';
    }

    function openPinLightbox(id) {
      const modal = document.getElementById('pinLightbox');
      const content = document.getElementById('pinLightboxContent');
      content.innerHTML = `
        <img
          src="https://drive.google.com/uc?id=${id}"
          class="w-full h-full max-w-full max-h-full object-contain rounded-2xl shadow-2xl"
        >
      `;
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closePinLightbox() {
      document.getElementById('pinLightbox').classList.add('hidden');
      document.getElementById('pinLightboxContent').innerHTML = '';
      document.body.style.overflow = 'auto';
    }
  </script>

  <!-- üî• STEP 2 ‚Äî FIREBASE AUTH SCRIPT (ONLY THIS, NO ANALYTICS SDK) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import {
      getAuth,
      GoogleAuthProvider,
      signInWithPopup,
      onAuthStateChanged,
      signOut
    } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDXpmQTDZgn_JvtgrEH3tVLzb-XyggLs_M",
      authDomain: "midnight-library-satyam-media.firebaseapp.com",
      projectId: "midnight-library-satyam-media",
      storageBucket: "midnight-library-satyam-media.appspot.com",
      messagingSenderId: "842047619495",
      appId: "1:842047619495:web:7483bc7e4a9029d6dc7682"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    const loginBtn = document.getElementById("loginBtn");

    // üëâ Login
    loginBtn.onclick = async () => {
      try {
        const result = await signInWithPopup(auth, provider);
        alert("Welcome " + result.user.displayName);
      } catch (e) {
        alert(e.message);
        console.error(e);
      }
    };

    // üëâ Login state
    onAuthStateChanged(auth, (user) => {
      if (user) {
        loginBtn.innerText = user.displayName;
      } else {
        loginBtn.innerText = "Login with Google";
      }
    });
  </script>
</body>
</html>
